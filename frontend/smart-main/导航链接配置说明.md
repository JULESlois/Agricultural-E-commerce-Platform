# å¯¼èˆªé“¾æ¥é…ç½®è¯´æ˜

## ğŸ“‹ åŠŸèƒ½è¯´æ˜

ç°åœ¨æ”¯æŒé…ç½®å¯¼èˆªæ é“¾æ¥æ˜¯åœ¨å½“å‰é¡µé¢è·³è½¬è¿˜æ˜¯åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ã€‚

## ğŸ”§ é…ç½®æ–¹æ³•

### 1. ä¿®æ”¹ constants.ts

åœ¨ `PORTAL_NAV_ITEMS` æ•°ç»„ä¸­ï¼Œä¸ºéœ€è¦åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€çš„å¯¼èˆªé¡¹æ·»åŠ  `openInNewTab: true`ï¼š

```typescript
export const PORTAL_NAV_ITEMS: NavItem[] = [
  { label: 'é¦–é¡µ', path: '/' },
  { label: 'äº§é“¾ç›´é”€', path: '/mall' },
  { label: 'åŠ©å†œé‡‘è', path: '/finance', openInNewTab: true }, // åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€
  { label: 'ä¸“å®¶æ™ºåº“', path: '/knowledge' },
  { label: 'ç”¨æˆ·ç¤¾åŒº', path: '/community' },
  { label: 'å¸®åŠ©ä¸­å¿ƒ', path: '/help' },
];
```

### 2. NavItem ç±»å‹å®šä¹‰

```typescript
export interface NavItem {
  label: string;           // å¯¼èˆªæ ‡ç­¾æ–‡å­—
  path: string;            // è·¯ç”±è·¯å¾„
  activePattern?: RegExp;  // æ¿€æ´»çŠ¶æ€åŒ¹é…è§„åˆ™ï¼ˆå¯é€‰ï¼‰
  openInNewTab?: boolean;  // æ˜¯å¦åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ï¼ˆå¯é€‰ï¼Œé»˜è®¤ falseï¼‰
}
```

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: æ‰€æœ‰é“¾æ¥åœ¨å½“å‰é¡µé¢è·³è½¬ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰

```typescript
export const PORTAL_NAV_ITEMS: NavItem[] = [
  { label: 'é¦–é¡µ', path: '/' },
  { label: 'äº§é“¾ç›´é”€', path: '/mall' },
  { label: 'åŠ©å†œé‡‘è', path: '/finance' },
  { label: 'ä¸“å®¶æ™ºåº“', path: '/knowledge' },
  { label: 'ç”¨æˆ·ç¤¾åŒº', path: '/community' },
  { label: 'å¸®åŠ©ä¸­å¿ƒ', path: '/help' },
];
```

**æ•ˆæœ**: ç‚¹å‡»å¯¼èˆªé“¾æ¥æ—¶ï¼Œåœ¨å½“å‰é¡µé¢å†…è·³è½¬ï¼ˆSPA æ ‡å‡†è¡Œä¸ºï¼‰

---

### ç¤ºä¾‹ 2: ç‰¹å®šæ¨¡å—åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€

```typescript
export const PORTAL_NAV_ITEMS: NavItem[] = [
  { label: 'é¦–é¡µ', path: '/' },
  { label: 'äº§é“¾ç›´é”€', path: '/mall', openInNewTab: true },
  { label: 'åŠ©å†œé‡‘è', path: '/finance', openInNewTab: true },
  { label: 'ä¸“å®¶æ™ºåº“', path: '/knowledge', openInNewTab: true },
  { label: 'ç”¨æˆ·ç¤¾åŒº', path: '/community', openInNewTab: true },
  { label: 'å¸®åŠ©ä¸­å¿ƒ', path: '/help' },
];
```

**æ•ˆæœ**: 
- ç‚¹å‡»"äº§é“¾ç›´é”€"ã€"åŠ©å†œé‡‘è"ã€"ä¸“å®¶æ™ºåº“"ã€"ç”¨æˆ·ç¤¾åŒº"æ—¶ï¼Œåœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€
- ç‚¹å‡»"é¦–é¡µ"ã€"å¸®åŠ©ä¸­å¿ƒ"æ—¶ï¼Œåœ¨å½“å‰é¡µé¢è·³è½¬

---

### ç¤ºä¾‹ 3: æ··åˆæ¨¡å¼ï¼ˆæ¨èï¼‰

```typescript
export const PORTAL_NAV_ITEMS: NavItem[] = [
  { label: 'é¦–é¡µ', path: '/' },
  { label: 'äº§é“¾ç›´é”€', path: '/mall' },
  { label: 'åŠ©å†œé‡‘è', path: '/finance' },
  { label: 'ä¸“å®¶æ™ºåº“', path: '/knowledge' },
  { label: 'ç”¨æˆ·ç¤¾åŒº', path: '/community' },
  { label: 'å¸®åŠ©ä¸­å¿ƒ', path: '/help', openInNewTab: true }, // å¸®åŠ©æ–‡æ¡£åœ¨æ–°çª—å£
];
```

**æ•ˆæœ**: åªæœ‰å¸®åŠ©ä¸­å¿ƒåœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ï¼Œå…¶ä»–æ¨¡å—æ­£å¸¸è·³è½¬

---

## ğŸ¯ å®ç°åŸç†

### å½“å‰é¡µé¢è·³è½¬ï¼ˆé»˜è®¤ï¼‰
```typescript
<Link to={item.path}>
  {item.label}
</Link>
```
- ä½¿ç”¨ React Router çš„ `<Link>` ç»„ä»¶
- å•é¡µåº”ç”¨å†…éƒ¨å¯¼èˆª
- ä¸åˆ·æ–°é¡µé¢
- ä¿æŒåº”ç”¨çŠ¶æ€

### æ–°æ ‡ç­¾é¡µæ‰“å¼€
```typescript
<a 
  href={item.path} 
  target="_blank" 
  rel="noopener noreferrer"
>
  {item.label}
</a>
```
- ä½¿ç”¨åŸç”Ÿ `<a>` æ ‡ç­¾
- `target="_blank"`: åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€
- `rel="noopener noreferrer"`: å®‰å…¨æ€§è€ƒè™‘

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ç”¨æˆ·ä½“éªŒè€ƒè™‘

**ä¸æ¨èå…¨éƒ¨ä½¿ç”¨æ–°æ ‡ç­¾é¡µæ‰“å¼€**ï¼ŒåŸå› ï¼š
- âŒ ç ´åå•é¡µåº”ç”¨çš„æµç•…ä½“éªŒ
- âŒ ç”¨æˆ·å¯èƒ½ä¸æœŸæœ›æ‰“å¼€æ–°æ ‡ç­¾é¡µ
- âŒ å¢åŠ æµè§ˆå™¨æ ‡ç­¾é¡µæ•°é‡
- âŒ ç§»åŠ¨ç«¯ä½“éªŒä¸ä½³

**æ¨èä½¿ç”¨åœºæ™¯**ï¼š
- âœ… å¤–éƒ¨é“¾æ¥ï¼ˆè·³è½¬åˆ°å…¶ä»–ç½‘ç«™ï¼‰
- âœ… å¸®åŠ©æ–‡æ¡£ï¼ˆç”¨æˆ·å¯èƒ½éœ€è¦å¯¹ç…§æŸ¥çœ‹ï¼‰
- âœ… ä¸‹è½½é¡µé¢
- âœ… ç‹¬ç«‹çš„å·¥å…·é¡µé¢

### 2. ç§»åŠ¨ç«¯è¡Œä¸º

ç§»åŠ¨ç«¯åº•éƒ¨å¯¼èˆªæ  (`MobilePortalNav`) ç›®å‰**ä¸æ”¯æŒ**æ–°æ ‡ç­¾é¡µæ‰“å¼€ï¼Œå› ä¸ºï¼š
- ç§»åŠ¨ç«¯æ ‡ç­¾é¡µç®¡ç†ä¸ä¾¿
- ç”¨æˆ·ä¹ æƒ¯åœ¨åº”ç”¨å†…å¯¼èˆª
- ä¿æŒä¸€è‡´çš„ç§»åŠ¨ç«¯ä½“éªŒ

å¦‚éœ€æ”¯æŒï¼Œå¯ä»¥ç±»ä¼¼ä¿®æ”¹ `MobilePortalNav` ç»„ä»¶ã€‚

### 3. çŠ¶æ€ç®¡ç†

ä½¿ç”¨æ–°æ ‡ç­¾é¡µæ‰“å¼€æ—¶ï¼š
- âš ï¸ æ¯ä¸ªæ ‡ç­¾é¡µæ˜¯ç‹¬ç«‹çš„åº”ç”¨å®ä¾‹
- âš ï¸ çŠ¶æ€ä¸å…±äº«ï¼ˆRedux/Context ç­‰ï¼‰
- âš ï¸ éœ€è¦é‡æ–°åŠ è½½èµ„æº

---

## ğŸ”„ å›é€€åˆ°åŸå§‹è¡Œä¸º

å¦‚æœä¸éœ€è¦æ–°æ ‡ç­¾é¡µåŠŸèƒ½ï¼Œåªéœ€ï¼š

1. åˆ é™¤æ‰€æœ‰ `openInNewTab: true` é…ç½®
2. æˆ–è€…æ³¨é‡Šæ‰ `PortalNav` ç»„ä»¶ä¸­çš„æ–°æ ‡ç­¾é¡µé€»è¾‘

---

## ğŸ“Š é…ç½®å¯¹æ¯”

| é…ç½® | ç”¨æˆ·ä½“éªŒ | æ€§èƒ½ | é€‚ç”¨åœºæ™¯ |
|------|---------|------|---------|
| **å…¨éƒ¨å½“å‰é¡µé¢** | â­â­â­â­â­ | â­â­â­â­â­ | æ ‡å‡† SPA |
| **å…¨éƒ¨æ–°æ ‡ç­¾é¡µ** | â­â­ | â­â­â­ | å¤šä»»åŠ¡åœºæ™¯ |
| **æ··åˆæ¨¡å¼** | â­â­â­â­ | â­â­â­â­ | æ¨èæ–¹æ¡ˆ |

---

## ğŸš€ å¿«é€Ÿé…ç½®

### åœºæ™¯ 1: æˆ‘æƒ³è®©æ‰€æœ‰ä¸»è¦æ¨¡å—åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€

```typescript
export const PORTAL_NAV_ITEMS: NavItem[] = [
  { label: 'é¦–é¡µ', path: '/' },
  { label: 'äº§é“¾ç›´é”€', path: '/mall', openInNewTab: true },
  { label: 'åŠ©å†œé‡‘è', path: '/finance', openInNewTab: true },
  { label: 'ä¸“å®¶æ™ºåº“', path: '/knowledge', openInNewTab: true },
  { label: 'ç”¨æˆ·ç¤¾åŒº', path: '/community', openInNewTab: true },
  { label: 'å¸®åŠ©ä¸­å¿ƒ', path: '/help', openInNewTab: true },
];
```

### åœºæ™¯ 2: æˆ‘åªæƒ³è®©å¸®åŠ©ä¸­å¿ƒåœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€

```typescript
export const PORTAL_NAV_ITEMS: NavItem[] = [
  { label: 'é¦–é¡µ', path: '/' },
  { label: 'äº§é“¾ç›´é”€', path: '/mall' },
  { label: 'åŠ©å†œé‡‘è', path: '/finance' },
  { label: 'ä¸“å®¶æ™ºåº“', path: '/knowledge' },
  { label: 'ç”¨æˆ·ç¤¾åŒº', path: '/community' },
  { label: 'å¸®åŠ©ä¸­å¿ƒ', path: '/help', openInNewTab: true },
];
```

### åœºæ™¯ 3: ä¿æŒé»˜è®¤ï¼ˆä¸ä½¿ç”¨æ–°æ ‡ç­¾é¡µï¼‰

```typescript
// ä¸æ·»åŠ  openInNewTab å±æ€§å³å¯
export const PORTAL_NAV_ITEMS: NavItem[] = [
  { label: 'é¦–é¡µ', path: '/' },
  { label: 'äº§é“¾ç›´é”€', path: '/mall' },
  { label: 'åŠ©å†œé‡‘è', path: '/finance' },
  { label: 'ä¸“å®¶æ™ºåº“', path: '/knowledge' },
  { label: 'ç”¨æˆ·ç¤¾åŒº', path: '/community' },
  { label: 'å¸®åŠ©ä¸­å¿ƒ', path: '/help' },
];
```

---

## ğŸ”— ç›¸å…³æ–‡ä»¶

- **ç±»å‹å®šä¹‰**: `frontend/smart-main/types.ts`
- **å¯¼èˆªé…ç½®**: `frontend/smart-main/constants.ts`
- **å¯¼èˆªç»„ä»¶**: `frontend/smart-main/components/Layouts.tsx`

---

**åˆ›å»ºæ—¶é—´**: 2025-11-28  
**ç»´æŠ¤è€…**: æ™ºå†œé“¾å¼€å‘å›¢é˜Ÿ
