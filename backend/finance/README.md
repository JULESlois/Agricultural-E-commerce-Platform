# å†œä¸šç”µå•†å¹³å° - èèµ„æœåŠ¡æ¨¡å—

## é¡¹ç›®æ¦‚è¿°

èèµ„æœåŠ¡æ¨¡å—æ˜¯å†œä¸šç”µå•†å¹³å°çš„æ ¸å¿ƒé‡‘èæœåŠ¡ç»„ä»¶ï¼Œä¸ºå†œæˆ·æä¾›ä¾¿æ·çš„èèµ„ç”³è¯·ã€ä¿¡ç”¨è¯„ä¼°ã€é“¶è¡Œå®¡æ‰¹ç­‰æœåŠ¡ï¼ŒåŒæ—¶æ”¯æŒå†œäº§å“é¢„å”®èèµ„ç­‰åˆ›æ–°é‡‘èäº§å“ã€‚

## ä¸»è¦åŠŸèƒ½

### 1. èèµ„ç”³è¯·ç®¡ç†
- è´·æ¬¾äº§å“æŸ¥è¯¢
- èèµ„ç”³è¯·æäº¤
- ç”³è¯·çŠ¶æ€è·Ÿè¸ª
- ç”³è¯·ææ–™ä¸Šä¼ 

### 2. ä¿¡ç”¨è¯„ä¼°ç³»ç»Ÿ
- è‡ªåŠ¨ä¿¡ç”¨è¯„ä¼°
- å¤šç»´åº¦è¯„åˆ†æ¨¡å‹
- ä¿¡ç”¨æŠ¥å‘Šç”Ÿæˆ
- è¯„ä¼°ç»“æœç®¡ç†

### 3. é“¶è¡Œå®¡æ‰¹æµç¨‹
- å¾…å®¡æ‰¹ç”³è¯·æŸ¥è¯¢
- å®¡æ‰¹ç»“è®ºæäº¤
- æ”¾æ¬¾ç¡®è®¤
- å®¡æ‰¹è®°å½•ç®¡ç†

### 4. å†œäº§å“é¢„å”®èèµ„
- é¢„å”®è®¡åˆ’åˆ›å»º
- ä¹°å®¶è®¤è´­ç®¡ç†
- å®šé‡‘æ”¶å–
- é¢„å”®è¿›åº¦è·Ÿè¸ª

### 5. çµæ´»è¿˜æ¬¾ç®¡ç†
- è¿˜æ¬¾è®¡åˆ’ç”Ÿæˆ
- è¿˜æ¬¾è®¡åˆ’è°ƒæ•´ç”³è¯·
- é“¶è¡Œå®¡æ‰¹è¿˜æ¬¾è°ƒæ•´
- é€¾æœŸç®¡ç†

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Spring Boot 3.2.5
- **æ•°æ®åº“**: PostgreSQL
- **ORM**: Spring Data JPA
- **å®‰å…¨**: Spring Security
- **æ„å»ºå·¥å…·**: Maven
- **Javaç‰ˆæœ¬**: 17

## APIæ¥å£

### èèµ„ç”³è¯·ç›¸å…³
- `GET /api/financing/loan-types` - è·å–è´·æ¬¾äº§å“åˆ—è¡¨
- `GET /api/financing/loan-types/{id}` - è·å–è´·æ¬¾äº§å“è¯¦æƒ…
- `POST /api/farmer/financing/applications` - åˆ›å»ºèèµ„ç”³è¯·
- `GET /api/farmer/financing/applications` - è·å–æˆ‘çš„ç”³è¯·åˆ—è¡¨

### é“¶è¡Œå®¡æ‰¹ç›¸å…³
- `GET /api/bank/financing/applications` - è·å–å¾…å®¡æ‰¹ç”³è¯·
- `GET /api/bank/financing/applications/{id}` - è·å–ç”³è¯·è¯¦æƒ…
- `POST /api/bank/financing/applications/{id}/review` - æäº¤å®¡æ‰¹ç»“è®º
- `POST /api/bank/financing/applications/{id}/disburse` - ç¡®è®¤æ”¾æ¬¾

### é¢„å”®èèµ„ç›¸å…³
- `POST /api/farmer/presale-plans` - åˆ›å»ºé¢„å”®è®¡åˆ’
- `GET /api/presale-plans` - æŸ¥çœ‹é¢„å”®äº§å“
- `POST /api/buyer/presale-subscriptions` - é¢„å”®è®¤è´­

### å†…éƒ¨æ¥å£
- `POST /api/internal/financing/applications/{id}/evaluate` - è§¦å‘ä¿¡ç”¨è¯„ä¼°
- `POST /api/internal/financing/credit-evaluations` - æ¥æ”¶è¯„ä¼°ç»“æœ

## æ•°æ®åº“è¡¨ç»“æ„

### æ ¸å¿ƒè¡¨
1. `financing_loan_type` - è´·æ¬¾ç±»å‹é…ç½®
2. `financing_application` - èèµ„ç”³è¯·
3. `financing_bank` - åˆä½œé“¶è¡Œä¿¡æ¯
4. `financing_credit_evaluation` - ä¿¡ç”¨è¯„ä¼°ç»“æœ
5. `financing_bank_approval` - é“¶è¡Œå®¡æ‰¹è®°å½•

### é¢„å”®ç›¸å…³è¡¨
1. `financing_presale_plan` - é¢„å”®è®¡åˆ’
2. `financing_presale_subscription` - é¢„å”®è®¤è´­
3. `financing_repayment_schedule` - è¿˜æ¬¾è®¡åˆ’
4. `financing_repayment_adjustment_request` - è¿˜æ¬¾è°ƒæ•´ç”³è¯·

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚
- JDK 17+
- Maven 3.6+
- PostgreSQL 12+

### 2. æ•°æ®åº“é…ç½®
```properties
spring.datasource.url=jdbc:postgresql://localhost:5432/agri
spring.datasource.username=your_username
spring.datasource.password=your_password
```

### 3. è¿è¡Œé¡¹ç›®

#### å¼€å‘æ¨¡å¼ï¼ˆæ¨èï¼Œæ”¯æŒçƒ­æ›´æ–°ï¼‰
```bash
# ä½¿ç”¨å¯åŠ¨è„šæœ¬
start-dev.bat

# æˆ–ä½¿ç”¨Mavenå‘½ä»¤
mvn spring-boot:run -Dspring-boot.run.profiles=dev
```

#### ç”Ÿäº§æ¨¡å¼
```bash
mvn clean install
mvn spring-boot:run -Dspring-boot.run.profiles=prod
```

### 4. è®¿é—®æ¥å£
é¡¹ç›®å¯åŠ¨åï¼Œå¯é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š
- åŸºç¡€URL: http://localhost:8082/finance
- APIæ–‡æ¡£: http://localhost:8082/finance/swagger-ui.html (å¦‚æœé›†æˆäº†Swagger)
- çƒ­æ›´æ–°çŠ¶æ€: http://localhost:8082/finance/api/dev/hotreload/status (ä»…å¼€å‘æ¨¡å¼)

## çƒ­æ›´æ–°åŠŸèƒ½ ğŸ”¥

æœ¬é¡¹ç›®å·²é›†æˆSpring Boot DevToolsçƒ­æ›´æ–°åŠŸèƒ½ï¼Œå¤§å¹…æå‡å¼€å‘æ•ˆç‡ï¼

### åŠŸèƒ½ç‰¹æ€§
- âœ… è‡ªåŠ¨ç›‘æ§æ–‡ä»¶å˜åŒ–
- âœ… å¿«é€Ÿåº”ç”¨é‡è½½
- âœ… LiveReloadæµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°
- âœ… æ‰‹åŠ¨è§¦å‘æ§åˆ¶
- âœ… å®æ—¶çŠ¶æ€ç›‘æ§

### ä½¿ç”¨æ–¹æ³•
1. **å¯åŠ¨å¼€å‘æ¨¡å¼**: è¿è¡Œ `start-dev.bat` æˆ–ä½¿ç”¨dev profile
2. **ä¿®æ”¹ä»£ç **: ä¿å­˜Javaæ–‡ä»¶æˆ–é…ç½®æ–‡ä»¶åè‡ªåŠ¨é‡è½½
3. **æŸ¥çœ‹çŠ¶æ€**: è®¿é—® `/api/dev/hotreload/status` æŸ¥çœ‹çƒ­æ›´æ–°çŠ¶æ€
4. **æ‰‹åŠ¨è§¦å‘**: ä¿®æ”¹ `.reloadtrigger` æ–‡ä»¶æˆ–è°ƒç”¨API

### çƒ­æ›´æ–°API
- `GET /api/dev/hotreload/status` - æŸ¥çœ‹çƒ­æ›´æ–°çŠ¶æ€
- `POST /api/dev/hotreload/trigger` - æ‰‹åŠ¨è§¦å‘é‡è½½
- `GET /api/dev/hotreload/config` - æŸ¥çœ‹é…ç½®ä¿¡æ¯
- `GET /api/dev/hotreload/health` - å¥åº·æ£€æŸ¥

è¯¦ç»†ä½¿ç”¨æŒ‡å—è¯·å‚è€ƒ: [HOT_RELOAD_GUIDE.md](HOT_RELOAD_GUIDE.md)

## ä¸šåŠ¡æµç¨‹

### èèµ„ç”³è¯·æµç¨‹
1. å†œæˆ·æŸ¥çœ‹è´·æ¬¾äº§å“åˆ—è¡¨
2. é€‰æ‹©åˆé€‚çš„è´·æ¬¾äº§å“
3. å¡«å†™ç”³è¯·ä¿¡æ¯å¹¶ä¸Šä¼ ææ–™
4. ç³»ç»Ÿè§¦å‘ä¿¡ç”¨è¯„ä¼°
5. ä¿¡ç”¨è¯„ä¼°é€šè¿‡åè½¬å…¥é“¶è¡Œå®¡æ‰¹
6. é“¶è¡Œå®¡æ‰¹é€šè¿‡åè¿›è¡Œæ”¾æ¬¾

### é¢„å”®èèµ„æµç¨‹
1. å†œæˆ·åˆ›å»ºé¢„å”®è®¡åˆ’
2. å¹³å°å®¡æ ¸é¢„å”®è®¡åˆ’
3. ä¹°å®¶è®¤è´­å¹¶æ”¯ä»˜å®šé‡‘
4. ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆé¢„å”®èèµ„ç”³è¯·
5. æŒ‰æ ‡å‡†æµç¨‹è¿›è¡Œå®¡æ‰¹å’Œæ”¾æ¬¾

## æ³¨æ„äº‹é¡¹

1. æ‰€æœ‰é‡‘é¢å­—æ®µä½¿ç”¨BigDecimalç±»å‹ï¼Œé¿å…ç²¾åº¦ä¸¢å¤±
2. æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚èº«ä»½è¯å·ã€é“¶è¡Œå¡å·ï¼‰éœ€è¦åŠ å¯†å­˜å‚¨
3. æ‰€æœ‰APIéƒ½éœ€è¦è¿›è¡Œç”¨æˆ·èº«ä»½éªŒè¯
4. é‡è¦æ“ä½œéœ€è¦è®°å½•æ“ä½œæ—¥å¿—
5. å®šæœŸå¤‡ä»½æ•°æ®åº“æ•°æ®

## æ‰©å±•åŠŸèƒ½

- [ ] é›†æˆç¬¬ä¸‰æ–¹å¾ä¿¡ç³»ç»Ÿ
- [ ] æ”¯æŒæ›´å¤šé“¶è¡Œæ¥å…¥
- [ ] é£é™©æ§åˆ¶æ¨¡å‹ä¼˜åŒ–
- [ ] ç§»åŠ¨ç«¯æ”¯æŒ
- [ ] å®æ—¶æ¶ˆæ¯æ¨é€